T = ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('&', ('|', '(!v18)', '(!v15)'), ('|', '(!v14)', '(!v9)')), ('|', ('|', '(!v19)', 'v37'), 'v12')), '(!v39)'), ('|', '(!v20)', 'v18')), ('|', ('|', '(!v8)', 'v16'), '(!v24)')), ('|', '(!v29)', '(!v39)')), ('|', '(!v2)', 'v19')), 'v15'), ('|', ('|', '(!v37)', 'v19'), '(!v6)')), ('|', 'v25', '(!v23)')), ('|', ('|', '(!v17)', 'v40'), 'v21')), ('|', ('|', '(!v23)', 'v35'), 'v24')), ('|', '(!v30)', '(!v28)')), 'v15'), ('|', ('|', '(!v37)', 'v19'), 'v6')), ('|', '(!v3)', '(!v11)')), ('|', '(!v35)', '(!v3)')), ('|', ('|', '(!v29)', 'v39'), 'v22')), ('|', '(!v27)', '(!v10)')), ('|', 'v28', '(!v8)')), ('|', '(!v4)', 'v39')), ('|', 'v10', 'v26')), ('|', ('|', 'v22', 'v14'), 'v15')), '(!v13)'), ('|', ('|', 'v36', 'v28'), '(!v35)')), ('|', ('|', '(!v8)', 'v16'), 'v24')), ('|', ('|', '(!v7)', 'v3'), '(!v40)')), ('|', ('|', 'v22', 'v14'), 'v15')), '(!v13)'), ('|', ('|', '(!v8)', 'v16'), 'v24')), ('|', ('|', '(!v19)', 'v37'), 'v12')), ('|', 'v10', '(!v26)')), ('|', '(!v20)', '(!v18)')), ('|', '(!v8)', '(!v16)')), ('|', ('|', '(!v3)', 'v11'), '(!v23)')), ('|', '(!v16)', 'v37')), ('|', '(!v38)', '(!v11)')), ('|', ('|', '(!v31)', 'v13'), 'v14')), ('|', '(!v33)', 'v19')), ('|', ('|', '(!v14)', 'v9'), '(!v29)')), ('|', 'v6', 'v16')), ('|', ('|', 'v36', 'v28'), 'v35')), ('|', '(!v19)', '(!v37)')), ('|', '(!v5)', 'v6')), ('|', 'v10', 'v26')), ('|', ('|', '(!v3)', 'v11'), 'v23')), ('|', ('|', 'v26', 'v37'), '(!v16)')), ('|', ('|', 'v22', 'v14'), '(!v15)')), ('|', ('|', 'v25', 'v23'), 'v38')), ('|', 'v36', '(!v28)')), ('|', '(!v35)', 'v3')), ('|', ('|', '(!v34)', 'v35'), '(!v37)')), ('|', '(!v5)', '(!v6)')), ('|', '(!v33)', '(!v19)')), ('|', ('|', '(!v17)', 'v40'), 'v21')), ('|', ('|', '(!v30)', 'v28'), 'v4')), ('|', ('|', '(!v34)', 'v35'), 'v37')), ('|', ('|', 'v28', 'v8'), 'v29')), '(!v21)'), ('|', ('|', '(!v18)', 'v15'), 'v39')), 'v40'), ('|', ('|', '(!v3)', 'v11'), 'v23')), ('|', '(!v17)', '(!v40)')), ('|', '(!v35)', 'v3')), ('|', '(!v33)', 'v19')), ('|', ('|', 'v25', 'v23'), '(!v38)')), ('|', '(!v27)', 'v10')), ('|', ('|', 'v36', 'v28'), 'v35')), ('|', ('|', '(!v7)', 'v3'), 'v40')), ('|', '(!v11)', 'v35')), ('|', 'v6', 'v16')), ('|', ('|', '(!v30)', 'v28'), 'v4')), ('|', '(!v11)', '(!v35)')), ('|', '(!v32)', 'v19')), ('|', '(!v37)', '(!v19)')), ('|', 'v26', '(!v37)')), ('|', ('|', '(!v30)', 'v28'), '(!v4)')), '(!v21)'), ('|', '(!v20)', 'v18')), ('|', '(!v9)', 'v31')), ('|', ('|', 'v28', 'v8'), 'v29')), ('|', ('|', '(!v31)', 'v13'), '(!v14)')), ('|', ('|', '(!v24)', 'v32'), 'v35')), ('|', 'v12', 'v16')), ('|', ('|', '(!v29)', 'v39'), 'v22')), ('|', ('|', '(!v14)', 'v9'), 'v29')), '(!v39)'), ('|', '(!v4)', '(!v39)')), ('|', ('|', '(!v37)', 'v19'), 'v6')), ('|', '(!v23)', '(!v35)')), ('|', ('|', '(!v29)', 'v39'), '(!v22)')), ('|', '(!v5)', 'v6')), 'v40'), ('|', ('|', 'v25', 'v23'), 'v38')), ('|', '(!v2)', 'v19')), ('|', 'v12', 'v16')), ('|', ('|', '(!v23)', 'v35'), 'v24')), ('|', '(!v31)', '(!v13)')), ('|', '(!v34)', '(!v35)')), ('|', '(!v32)', 'v19')), ('|', ('|', '(!v24)', 'v32'), 'v35')), ('|', ('|', 'v26', 'v37'), 'v16')), ('|', '(!v38)', 'v11')), ('|', '(!v16)', 'v37')), ('|', ('|', '(!v7)', 'v3'), 'v40')), ('|', '(!v4)', 'v39')), ('|', '(!v7)', '(!v3)')), ('|', ('|', '(!v24)', 'v32'), '(!v35)')), ('|', ('|', '(!v34)', 'v35'), 'v37')), ('|', '(!v11)', 'v35')), 'v1'), ('|', '(!v27)', 'v10')), ('|', ('|', '(!v23)', 'v35'), '(!v24)')), ('|', ('|', '(!v18)', 'v15'), '(!v39)')), ('|', ('|', '(!v19)', 'v37'), '(!v12)')), ('|', ('|', 'v26', 'v37'), 'v16')), ('|', 'v6', '(!v16)')), ('|', ('|', '(!v17)', 'v40'), '(!v21)')), ('|', '(!v9)', '(!v31)')), ('|', '(!v32)', '(!v19)')), ('|', '(!v38)', 'v11')), ('|', '(!v9)', 'v31')), ('|', ('|', '(!v14)', 'v9'), 'v29')), ('|', ('|', '(!v18)', 'v15'), 'v39')), ('|', 'v12', '(!v16)')), ('|', '(!v16)', '(!v37)')), ('|', 'v22', '(!v14)')), ('|', ('|', 'v28', 'v8'), '(!v29)')), 'v1'), ('|', '(!v24)', '(!v32)')), ('|', '(!v2)', '(!v19)')), ('|', ('|', '(!v31)', 'v13'), 'v14'))

def g(t):
	if t[0] == '|':
		return g(t[1]) + g(t[2])
	if t[0] == 'v':
		return [int(t[1:])]
	if t[0] == '(':
		assert t[:3] == '(!v'
		assert t[-1:] == ')'
		return [-int(t[3:-1])]

def f(t):
	if t[0] == '&':
		f(t[1])
		f(t[2])
	elif t[0] == '|':
		print(g(t[1]) + g(t[2]))
	else:
		print(g(t))

f(T)
